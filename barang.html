<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Barang</title>

<style>
body{
  margin:0;padding-bottom:90px;
  background:#f4f5f7;font-family:Inter,Roboto;color:#222;
}
*{ -webkit-tap-highlight-color:transparent; }

/* HEADER */
.header{
  background:linear-gradient(135deg,#3E8BFF,#A259FF);
  color:#fff;padding:20px;text-align:center;
  font-size:18px;font-weight:700;
  position:sticky;top:0;z-index:30;
}

/* Floating Action Button */
.fab{
  position:fixed;
  bottom:78px;
  right:18px;
  width:60px;
  height:60px;
  border-radius:50%;
  background:linear-gradient(135deg,#4CA3FF,#A259FF);
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 4px 18px rgba(0,0,0,0.25);
  cursor:pointer;
  z-index:999;
}
.fab svg{
  width:28px;height:28px;
  stroke:white;stroke-width:3;
}
.fab.bounce{animation:bounceFAB .25s ease-out;}
@keyframes bounceFAB{0%{transform:scale(1)}40%{transform:scale(.88)}100%{transform:scale(1)}}

/* SEARCH + FILTER */
.search-row{
  padding:12px 14px 0 14px;
  display:flex;gap:12px;align-items:center;
}
.search-box-modern{
  flex:1;background:#fff;border-radius:14px;border:1px solid #e1e1e1;
  padding:8px 10px;display:flex;align-items:center;gap:8px;
  box-shadow:0 2px 6px rgba(0,0,0,0.05);
}
.search-box-modern input{
  flex:1;border:none;outline:none;font-size:15px;
}
.search-icon{width:18px;height:18px;opacity:.65;}

.filter-btn{width:44px;height:44px;background:#fff;border:1px solid #e1e1e1;border-radius:14px;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,0.05)}
.filter-btn img{width:22px;height:22px;opacity:.75;}

.filter-panel{display:none;padding:0 14px;margin-top:6px;}
#kategoriFilter,#sortFilter{
  width:100%;padding:12px;border-radius:14px;border:1px solid #ddd;font-size:14px;background:#fff;margin-bottom:10px
}

/* LIST */
.list{padding:12px 14px;display:flex;flex-direction:column;gap:14px}
.item{background:#fff;border-radius:14px;padding:10px;display:flex;gap:14px;align-items:center;box-shadow:0 2px 6px rgba(0,0,0,0.08);cursor:pointer;transition:.15s}
.item img{width:64px;height:64px;object-fit:cover;border-radius:8px;background:#eee}
.item-info{flex:1}
.item-name{font-size:15px;font-weight:700;margin-bottom:4px}
.item-sub{font-size:13px;color:#666}

/* NAVBAR */
.navbar{position:fixed;bottom:0;left:0;right:0;background:#fff;display:flex;justify-content:space-around;padding:8px 0 6px;border-top:1px solid #e6e6e6;z-index:998}
.nav-item{display:flex;flex-direction:column;align-items:center;font-size:11px;font-weight:600;color:#6a6a6a;padding:6px 12px;border-radius:16px;cursor:pointer;transition:.15s}
.nav-item img{width:28px;height:28px;margin-bottom:4px;opacity:.65}
.nav-active{background:rgba(62,139,255,0.12);color:#3E8BFF !important}
.nav-active img{opacity:1 !important}

/* BOUNCE */
.bounce{animation:bounceTap .25s ease-out;}
@keyframes bounceTap{0%{transform:scale(1)}40%{transform:scale(.92)}100%{transform:scale(1)}}
</style>
</head>

<body>

<div class="header">Barang</div>

<!-- FAB Tambah Barang -->
<div class="fab" id="fabAdd">
  <svg viewBox="0 0 24 24" fill="none">
    <path d="M12 5v14M5 12h14"/>
  </svg>
</div>

<!-- Search + Filter -->
<div class="search-row">
  <div class="search-box-modern">
    <img src="assets/search_icon.png" class="search-icon">
    <input type="text" id="searchInput" placeholder="cari barang..">
  </div>

  <button class="filter-btn" id="filterBtn">
    <img src="assets/filter_icon.png">
  </button>
</div>

<div id="filterPanel" class="filter-panel">
  <select id="kategoriFilter">
    <option value="ALL">Semua Kategori</option>
  </select>

  <select id="sortFilter">
    <option value="DEFAULT">Urutkan: Default</option>
    <option value="NAME_ASC">Nama (A–Z)</option>
    <option value="PRICE_LOW">Harga Termurah</option>
    <option value="PRICE_HIGH">Harga Termahal</option>
    <option value="STOCK_HIGH">Stok Terbanyak</option>
  </select>
</div>

<!-- List Barang -->
<div class="list" id="listBarang">Memuat data...</div>

<!-- NAVBAR -->
<div class="navbar">
  <div class="nav-item" onclick="bounceThenNavigate(this,'home.html')"><img src="assets/beranda.png">Beranda</div>
  <div class="nav-item nav-active" onclick="bounceThenNavigate(this,'barang.html')"><img src="assets/barang.png">Barang</div>
  <div class="nav-item" onclick="bounceThenNavigate(this,'riwayat.html')"><img src="assets/riwayat.png">Riwayat</div>
  <div class="nav-item" onclick="bounceThenNavigate(this,'pengaturan.html')"><img src="assets/pengaturan.png">Pengaturan</div>
</div>

<script src="app.js"></script>
<script src="navigationGuard.js"></script>

<script>
/* Floating button → tambah_barang */
document.getElementById("fabAdd").onclick = () => {
  const el = document.getElementById("fabAdd");
  el.classList.add("bounce");
  setTimeout(()=>el.classList.remove("bounce"),260);
  setTimeout(()=>guardedNavigate("tambah_barang.html"),120);
};

/* Bounce navigation */
function bounceThenNavigate(el,url){
  if(el){el.classList.add("bounce");setTimeout(()=>el.classList.remove("bounce"),260);}
  setTimeout(()=>guardedNavigate(url),80);
}

/* IMPORT SEARCH SYSTEM + RENDER SYSTEM FROM PREVIOUS VERSION */
/* (sama seperti file barang.html sebelumnya) */

</script>

</body>
</html>
